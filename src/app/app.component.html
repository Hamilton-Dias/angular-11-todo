<header>
  <!-- <input type="text" />
  <input type="text" />
  <input type="text" />
  <input type="text" /> -->
  <button type="button" (click)="toggleModal()">Cadastrar tarefa</button>
</header>

<main>
  <div class="task-card" [ngClass]="{'completed': task.isCompleted, 'late': isLate(task.limitDate)}" *ngFor="let task of tasks; let taskIndex = index">
    <div class="task-card-header">
      <h2>{{task.title}}</h2>
      <div class="actions">
        <input type="checkbox" (click)="toggleCompletion(taskIndex)"/>
        <button class="fa fa-trash" (click)="removeTask(task._id)"></button>
      </div>
    </div>
    <div class="task-card-description">
      <p #p [ngClass]="{'hide-text': isTextBiggerThan2Lines(p, task.description)}">
        {{task.description}}
      </p>
      <p><b>Data limite: </b>{{task.limitDate}}</p>
      <button #btn (click)="toggleText(btn)" *ngIf="isTextBiggerThan2Lines(p, task.description)">Mostrar mais</button>
    </div>
    <div class="task-card-footer">
      <div class="tag-item" *ngFor="let tag of task.tags">
        <span>{{tag}}</span>
        <i class="fa fa-times" (click)="removeTagFromTask(taskIndex, tag)"></i>
      </div>
    </div>
  </div>
</main>

<div class="modal" [ngClass]="{'visible': isModalVisible}">
  <label class="modal__bg" for="modal-1" (click)="toggleModal()"></label>
  <div class="modal__inner">
    <label class="modal__close" for="modal-1" (click)="toggleModal()"></label>
    <form (ngSubmit)="formSubmit($event)">
      <input type="text" ng-model="newTask.title" />

      <input type="submit" value="Salvar" />
    </form>
  </div>
</div>